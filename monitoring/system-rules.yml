############# Define Rule Alert ###############
# my global config
############# Define Rule Alert ###############
groups:
- name: system-alert
  rules:

################ Memory Usage High
  - alert: Memory Usage High
    expr: (1 - (node_memory_MemAvailable_bytes{type!="pool-stats"} / (node_memory_MemTotal_bytes{type!="pool-stats"})))* 100 > 85
    for: 1m
    labels:
      severity: Warning
    annotations:
      summary: "Memory Usage (instance {{ $labels.instance }})"
      description: "Memory Usage is more than 85%\n  VALUE = {{ $value }}\n  LABELS: {{ $labels }}"
